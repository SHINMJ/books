# 도서 위탁 대여 API 개발 및 회고

이 프로젝트는 도서 위탁 대여 시스템의 API 서버를 구축하기 위한 것입니다.
이 API 서버를 통해 사용자는 도서를 등록하고 대여할 수 있으며, 도서 검색 기능을 제공합니다.


## 구성환경
- Spring Boot 3.2.2 
- jdk 17
- gradle 8.3
- Spring Security 6 
- Spring Data JPA
- H2 embedded DB (test)
- MySQL 8 (deploy)

## 빌드 및 배포
- gradle
- docker
- docker-compose

## 기능
- 회원 가입: 사용자의 정보로 회원가입을 합니다.
- 로그인: 이메일, 패스워드로 로그인을 합니다.
- 도서 위탁: 새로운 도서를 등록합니다.
- 도서 대여: 등록된 도서를 대여합니다.
- 도서 목록 조회: 특정 정렬 순서에 따라 정렬된 도서 목록을 조회합니다.
- 도서 반납: 대여 중인 도서를 반납합니다. (대여 후 10초 후 자동 반납)
- 사용자 도서 조회: 사용자의 위탁 도서 및 대여 도서 목록을 조회합니다.

## 실행
jdk 17, gradle 8, docker, docker-compose 가 설치된 환경에서 실행하세요.

- 해당 repo를 클론합니다.
- gradle 빌드를 합니다. `./gradlew build`
- docker-compose 를 통해 배포합니다. `docker-compose up -d --build`

## API SPEC 
서버 실행 후 `http://localhost:8080/swagger-ui/index.html` 를 확인하세요.


## 회고

### 개발 과정
도서 위탁 대여 API를 개발하기 위해 Spring Boot와 관련 기술들을 사용했습니다.
초기에는 프로젝트 구성환경을 설정하고 각종 의존성을 추가하는 작업이 필요했습니다.
특히 Spring Security를 이용하여 회원가입 및 인증 기능을 구현하는 데에 많은 시간을 투자했습니다.

도서 위탁 기능은 도서 정보를 등록하고 대여하는 기능을 포함하고 있었습니다.
Spring Data JPA를 사용하여 도서 정보를 MySQL 데이터베이스에 저장하고 관리했습니다.
또한, H2 embedded DB를 사용하여 테스트 환경을 구성하고 테스트를 진행했습니다.

### 빌드 및 배포
Gradle을 사용하여 프로젝트를 빌드하고 Docker를 통해 컨테이너화하여 배포햐였습니다.
특히 Docker와 Docker Compose를 이용하여 여러 개의 서비스를 관리하고 연결하는 부분은 조금씩 적응해 가면서 진행했습니다.
그러나 이를 통해 개발 환경과 실제 운영 환경을 일치시킬 수 있다는 장점을 경험할 수 있었습니다.

### 기능 구현
회원가입 및 도서 위탁, 대여 및 반납 기능을 구현하는 과정에서는 요구사항을 명확히 이해하고 API 엔드포인트를 설계하는 것이 중요했습니다.
각 기능을 모듈화하여 유연하고 확장 가능한 구조로 개발하려고 노력했습니다.
또한, Spring Security를 활용하여 인가 및 인증을 구현하고 보안 측면을 고려했습니다.
요구 사항 외에도 어떤 기능을 사용자가 보고 싶어할지 고민하여 사용자의 위탁,대여 도서 목록 API 를 추가하였습니다.

### 회고
이번 프로젝트를 통해 Spring Boot와 관련 기술들에 대해 더 많이 이해할 수 있었습니다.
또한, 프로젝트를 진행하면서 지속적인 테스트와 리팩토링의 중요성을 느낄 수 있었습니다.
API Spec 문서를 효율적으로 작성하기 위해 swagger 와 open api 3 에 대한 이해가 높아졌습니다. 
